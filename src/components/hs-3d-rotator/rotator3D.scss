@import "../../scss/vars";

.hs-vanish {
  opacity: 0;
  transition: all 1s;
}

.rotator3D__container {
  position: relative;
  width: 100%;
}

// rotator3D configuration parameters
$item-width: 40%; // Now we can use percentages!
$item-separation: 0px; // This now is set with Js
$viewer-distance: 700px;

.rotator3D {

  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  overflow: hidden;

  perspective: $viewer-distance;

  >* {
    flex: 0 0 auto;
  }

  .rotator3D__figure {
    width: $item-width;
    margin: 0;
    transition: transform 0.5s;
    transform-style: preserve-3d;

    .rotator3D__img {
      box-sizing: border-box;
      width: 100%;
      max-width: 100%;
      height: auto;
      padding: 0 $item-separation / 2;

      &:not(:first-of-type) {
        position: absolute;
        top: 0;
        left: 0;
      }
    }
  }
}



.rotator3D__nav {
  position: absolute;
  bottom: 20px;
  left: 50%;
  z-index: 999;
  display: inline-flex;
  justify-content: center;
  padding: .5rem 1rem;
  margin: 20px 0 0;
  background: rgba(0, 0, 0, .75);
  border: 1px solid var(--hs-black);
  border-radius: 4px;
  transform: translateX(-50%);

  .rotator3D__button {
    display: flex;
    flex: 0 0 auto;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    padding: 0;
    margin: 0 5px;

    color: var(--hs-white);
    letter-spacing: 1px;

    cursor: pointer;
    background-color: rgba(0, 0, 0, .5);
    border: 1px solid var(--hs-black);
    &:hover {
      color: alpha(var(--hs-white), 75%);
      background-color: alpha(var(--hs-color-5), 50%);
    }

    &:focus,
    &:focus-within {
      background-color: var(--hs-black_25);
      outline: 1px solid alpha(var(--hs-color-5), 60%);
    }

  }
  .next {
    right: 30px;
    &::before {
      display: inline-block;
      width: 1rem;
      height: 1rem;
      vertical-align: -.125em;
      content: "";
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23ffffff' viewBox='0 0 16 16'%3e%3cpath fill-rule='evenodd' d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e ");
      background-repeat: no-repeat;
      background-size: 1rem 1rem;
    }
    &:hover,
    &:focus {
      background: alpha(var(--hs-color-5), 60%);
    }
  }

  .prev {
    left: 30px;
    &::before {
      display: inline-block;
      width: 1rem;
      height: 1rem;
      vertical-align: -.125em;
      content: "";
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23ffffff' viewBox='0 0 16 16'%3e%3cpath fill-rule='evenodd' d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-size: 1rem 1rem;
    }
    &:hover,
    &:focus {
      background: alpha(var(--hs-color-5), 60%);
    }
  }
}

// @mixin rotate3dMaxWidths($map, $key, $value) {
//   @debug #{$key};
//   @if map-has-key($map, #{$key}) {
//     $width: map-deep-get($map, #{$key}, "width");
//     @debug $width;
//     $height: map-deep-get($map, #{$key}, "height");
//     @debug $height;
//     @media (min-width: $value) {
//       .rotator3D__scene {
//         position: relative;
//         width: map-deep-get($map, #{$key}, "width") + .08px;
//         max-width: 100%;
//         height: map-deep-get($map, #{$key}, "height") + .08px;
//         margin: (map-deep-get($map, #{$key}, "margin") / 2) auto;
//         // margin: 0 auto;
//         transition: all 1s;
//       }

//       .rotator3D__img {
//         width: map-deep-get($map, #{$key}, "width");
//         max-width: 100%;
//         height: auto;
//         max-height: map-deep-get($map, #{$key}, "height");
//         transition: all 1s;
//       }

//       .rotator3D__nav {
//         width: (map-deep-get($map, #{$key}, "width") / 2);
//       }
//       @content;
//     }
//   }
// }

// @function map-deep-get($map, $keys...) {
//   @each $key in $keys {
//     $map: map-get($map, $key);
//   }
//   @return $map;
// }

// @each $key, $value in $breakpoints {
//   @include rotate3dMaxWidths($rotate3d-sizes, $key, $value);

// }
