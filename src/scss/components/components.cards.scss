/* stylelint-disable selector-combinator-space-after */
@import "./mixins/settings";
@import "../variables";

/*
 * CSS CUSTOM VARIABLE FUNCTION
 *
 * Get css vars from scss vars
 *
 * Use:
 * `color: v(primary);`
 * `color: v(primary, #000);`
 * `padding-left: v(x-padding, 2rem);`
 * `transform: translate3d(v(x-delta), v(y-delta), 0);`
 *
 * Parameters:
 *  $hs-Var: name of the SASS variable, without its double hyphen prefix
 *  $hs-fallback: (optional, null by default): custom property fallback value
 */

//
// Base styles
//

.hs-card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0; // See https://github.com/twbs/bootstrap/pull/22740#issuecomment-305868106
  height: $hs-card-height;
  word-wrap: break-word;
  background-color: $hs-card-bg;
  background-clip: border-box;
  border: $hs-card-border-width /* solid $hs-card-border-color */;
  @include border-radius($hs-card-border-radius);

  > hr {
    margin-right: 0;
    margin-left: 0;
  }

  > .list-group {
    border-top: inherit;
    border-bottom: inherit;

    &:first-child {
      border-top-width: 0;
      @include border-top-radius($hs-card-inner-border-radius);
    }

    &:last-child {
      border-bottom-width: 0;
      @include border-bottom-radius($hs-card-inner-border-radius);
    }
  }
  @include card-size;
}

.hs-card_body {
  // Enable `flex-grow: 1` for decks and groups so that card blocks take up
  // as much space as possible, ensuring footers are aligned to the bottom.
  flex: 1 1 auto;
  // Workaround for the image size bug in IE
  // See: https://github.com/twbs/bootstrap/pull/28855
  width: $hs-card-width--fluid;
  min-height: 1px;
  padding: $hs-card-spacer-x $hs-card-spacer-x;
  color: $hs-card-color;
  background-color: $hs-white_5;
  @include hs-card-body;
}
.hs-card-content {
  background-color: $hs-white;
}

.hs-card_title {
  margin-bottom: $hs-card-spacer-y;
}

.hs-card_subtitle {
  margin-top: -$hs-card-spacer-y / 2;
  margin-bottom: 0;
}

.hs-card_text:last-child {
  margin-bottom: 0;
}

.hs-card_link {
  &hover {
    text-decoration: none;
  }

  +.hs-card_link {
    margin-left: $hs-card-spacer-x;
  }
}

//
// Optional textual caps
//

.hs-card_header {
  padding: 0;
  margin-bottom: 0;
  color: $hs-card-cap-color;
  background-color: $hs-card-cap-bg;
  border-bottom: $hs-card-border-width solid $hs-card-border-color;

  &:first-child {
    @include border-radius($hs-card-inner-border-radius $hs-card-inner-border-radius 0 0);
  }

  +.list-group {
    .list-group-item:first-child {
      border-top: 0;
    }
  }
}

.hs-card_footer {
  padding: $hs-card-spacer-y $hs-card-spacer-x;
  color: $hs-card-cap-color;
  background-color: $hs-card-cap-bg;
  border-top: $hs-card-border-width solid $hs-card-border-color;

  &:last-child {
    @include border-radius(0 0 $hs-card-inner-border-radius $hs-card-inner-border-radius);
  }
}


//
// Header navs
//

.hs-card_header-tabs {
  margin-right: -$hs-card-spacer-x / 2;
  margin-bottom: -$hs-card-spacer-y;
  margin-left: -$hs-card-spacer-x / 2;
  border-bottom: 0;
}

.hs-card_header-pills {
  margin-right: -$hs-card-spacer-x / 2;
  margin-left: -$hs-card-spacer-x / 2;
}

// Card image
.hs-card_img-overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding: $hs-card-img-overlay-padding;
}

.hs-card_img,
.hs-card_img-top,
.hs-card_img-bottom {
  flex-shrink: 0; // For IE: https://github.com/twbs/bootstrap/issues/29396
  width: 100%; // Required because we use flexbox and this inherently applies align-self: stretch
}

.hs-card_img,
.hs-card_img-top {
  @include border-top-radius($hs-card-inner-border-radius);
}

.hs-card_img,
.hs-card_img-bottom {
  @include border-bottom-radius($hs-card-inner-border-radius);
}


// Card deck

.hs-card_deck {
  .hs-card {
    margin-bottom: $hs-card-deck-margin;
  }


}


//
// Card groups
//

.hs-card_group {

  // The child selector allows nested `.hs-card` within `.hs-card_group`
  // to display properly.
  > .hs-card {
    margin-bottom: $hs-card-group-margin;
  }
}



//
// Columns
//

.hs-card_columns {
  .hs-card {
    margin-bottom: $hs-card-columns-margin;
  }

}


//
// Accordion
//

.accordion {
  > .hs-card {
    overflow: hidden;

    &:not(:last-of-type) {
      border-bottom: 0;
      @include border-bottom-radius(0);
    }

    &:not(:first-of-type) {
      @include border-top-radius(0);
    }

    > .hs-card_header {
      @include border-radius(0);
      margin-bottom: -$hs-card-border-width;
    }
  }
}

@media (min-width: 576px) {
  .hs-card-deck {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    margin-right: -15px;
    margin-left: -15px;
  }

  .hs-card-deck .hs-card {
    -ms-flex: 1 0 0%;
    flex: 1 0 0%;
    margin-right: 15px;
    margin-bottom: 0;
    margin-left: 15px;
  }
}

@media (min-width: 576px) {
  .hs-card-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
  }

  .hs-card-group > .hs-card {
    -ms-flex: 1 0 0%;
    flex: 1 0 0%;
    margin-bottom: 0;
  }

  .hs-card-group > .hs-card +.hs-card {
    margin-left: 0;
    border-left: 0;
  }

  .hs-card-group > .hs-card:not(:last-child) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  .hs-card-group > .hs-card:not(:last-child) .hs-card-img-top,
  .hs-card-group > .hs-card:not(:last-child) .hs-card-header {
    border-top-right-radius: 0;
  }

  .hs-card-group > .hs-card:not(:last-child) .hs-card-img-bottom,
  .hs-card-group > .hs-card:not(:last-child) .hs-card-footer {
    border-bottom-right-radius: 0;
  }

  .hs-card-group > .hs-card:not(:first-child) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  .hs-card-group > .hs-card:not(:first-child) .hs-card-img-top,
  .hs-card-group > .hs-card:not(:first-child) .hs-card-header {
    border-top-left-radius: 0;
  }

  .hs-card-group > .hs-card:not(:first-child) .hs-card-img-bottom,
  .hs-card-group > .hs-card:not(:first-child) .hs-card-footer {
    border-bottom-left-radius: 0;
  }
}

@media (min-width: 576px) {
  .hs-card-columns {
    -webkit-column-count: 3;
    -moz-column-count: 3;
    column-count: 3;
    -webkit-column-gap: 1.25rem;
    -moz-column-gap: 1.25rem;
    column-gap: 1.25rem;
    orphans: 1;
    widows: 1;
  }

  .hs-card-columns .hs-card {
    display: inline-block;
    width: 100%;
  }
}
